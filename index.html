<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Exosite -- C Libraries: Exosite Libraries Index</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="exosite.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Exosite -- C Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Exosite Libraries Index </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#architecture">Architecture</a><ul><li class="level2"><a href="#exosite_lib">exosite-lib</a></li>
<li class="level2"><a href="#exosite_pal">exosite-pal</a></li>
</ul>
</li>
<li class="level1"><a href="#gettingStarted">Getting Started</a></li>
<li class="level1"><a href="#using_nvm">Use of Non-volatile Memory (NVM)</a></li>
<li class="level1"><a href="#communicating_with_exosite">Communicating With Exosite</a></li>
<li class="level1"><a href="#errorHandling">Error Handling</a></li>
<li class="level1"><a href="#misc_info">Misc. Info</a><ul><li class="level2"><a href="#codingStyle">Coding Style</a></li>
<li class="level2"><a href="#testing">Testing</a></li>
<li class="level2"><a href="#diagraming">Diagramming</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p>The Exosite standard C libraries provide a common interface for applications connecting to the Exosite cloud. It is intended to lower the barrier of developing Exosite enabled applications written in C or C++. This would typically be embedded platforms, but there are premade PALs written for Windows and Posix operating systems as well. Once you have created a PAL for your specific platform, you can use Exosite as your cloud platform in as little as two lines of code!</p>
<div class="fragment"><div class="line"><a class="code" href="exosite_8c.html#ae64511824c2dc2478ec2e5a8a05f4c51">exosite_init</a>(<span class="stringliteral">&quot;myVendor&quot;</span>,<span class="stringliteral">&quot;myModel&quot;</span>);</div><div class="line"><a class="code" href="exosite_8c.html#a758cc3be73fe8a6b64e7f80a8193c89a">exosite_write</a>(<span class="stringliteral">&quot;temperature=82&quot;</span>,strlen(<span class="stringliteral">&quot;temperature=82&quot;</span>));</div></div><!-- fragment --><p>The Exosite libraries are platform agnostic, but will require the implementation of a platform abstraction layer(PAL). This PAL will be responsible for communicating with the hardware. An example PAL can be found in the exosite_PAL.* files.</p>
<p>You can read the <a class="el" href="pal_creation.html">PAL Creation</a> page for more detailed information in developing the PAL,</p>
<p>These libraries assume that the hardware has a modem available to it that can open/close a socket as well as read/write from that socket</p>
<h1><a class="anchor" id="architecture"></a>
Architecture</h1>
<p>The Exosite C Library contains the library code, which is hardware independent, as well as a PAL which is required to port the library between different platforms. Below is a high level diagram of how application code, device hardware, library code and Exosite interact.</p>
<p>There are two main components to the Exosite C-libs.</p><ol type="1">
<li>exosite-lib</li>
<li>exosite-pal</li>
</ol>
<h2><a class="anchor" id="exosite_lib"></a>
exosite-lib</h2>
<p>exosite-lib consists to the <a class="el" href="exosite_8c.html">exosite.c</a> and <a class="el" href="exosite_8h.html">exosite.h</a> files. These files contain the logic used to communicate with the Exosite One Platform. These files should never need any modification from the end user.</p>
<h2><a class="anchor" id="exosite_pal"></a>
exosite-pal</h2>
<p>exosite-pal serves as an interface between an individual devices hardware and the exosite-lib code. These files (<a class="el" href="exosite__pal_8c.html">exosite_pal.c</a> <a class="el" href="exosite__pal_8h.html">exosite_pal.h</a> )will need modification (<a class="el" href="pal_creation.html">PAL Creation</a> page) for creating PALs for different hardware platforms.</p>
<h1><a class="anchor" id="gettingStarted"></a>
Getting Started</h1>
<p>The Exosite C Libraries assume that your device has the ability to open a socket and send/receive data on that socket. The library is limited to a single Exosite connection at a time.</p>
<p>In order to use the Exosite libraries on your hardware, you will need to create the PAL. The easiest way to do this is to go through the template <a class="el" href="exosite__pal_8c.html">exosite_pal.c</a> and fill in the functions. The purpose of each function is well documented and should provide all the information required to write your own hardware specific code.</p>
<h1><a class="anchor" id="using_nvm"></a>
Use of Non-volatile Memory (NVM)</h1>
<p>The PAL will require at least one piece of data to be stored in (NVM). This is the devices CIK. It is given to the device when it provisions itself with the Exosite platform.</p>
<h1><a class="anchor" id="communicating_with_exosite"></a>
Communicating With Exosite</h1>
<p>At the beginning of your application code, you must call the <a class="el" href="exosite_8c.html#ae64511824c2dc2478ec2e5a8a05f4c51" title="Initializes the Exosite libraries and attempts to activate the with Exosite. ">exosite_init()</a>. The <a class="el" href="exosite_8c.html#ae64511824c2dc2478ec2e5a8a05f4c51" title="Initializes the Exosite libraries and attempts to activate the with Exosite. ">exosite_init()</a> function initializes some things in local memory and then attempts to activate your device with Exosite. Be sure to check for the return codes and make sure you receive a EXO_STATE_INIT_COMPLETE response. If not, the rest of your calls to Exosite won't be successful.</p>
<p>After exosite_init has successfully completed, you can now read and write to Exosite datasources using the <a class="el" href="exosite_8c.html#ad31d775335946da706c105adbf044146" title="Reads data from Exosite. ">exosite_read()</a> and <a class="el" href="exosite_8c.html#a758cc3be73fe8a6b64e7f80a8193c89a" title="Writes data to Exosite. ">exosite_write()</a> functions.</p>
<p>Example Exosite Write: </p><div class="fragment"><div class="line">EXOSITE_DEVICE_ACTIVATION_STATE activation_results;</div><div class="line">activation_results = <a class="code" href="exosite_8c.html#ae64511824c2dc2478ec2e5a8a05f4c51">exosite_init</a>(vendorStr, modelStr);</div><div class="line"><span class="keywordflow">if</span> (activation_results == <a class="code" href="exosite_8h.html#a54e6a382b00d7faf8ee502ef8cca5ac7a1a5310820f4f81b13f6f37c00a545137">EXO_STATE_INIT_COMPLETE</a>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">char</span> * dataToWrite = <span class="stringliteral">&quot;greetings=Hello&quot;</span>;</div><div class="line">    <a class="code" href="exosite_8c.html#a758cc3be73fe8a6b64e7f80a8193c89a">exosite_write</a>(dataToWrite, strlen(dataToWrite));</div><div class="line">}</div></div><!-- fragment --><p>Example Exosite Read: </p><div class="fragment"><div class="line">EXOSITE_DEVICE_ACTIVATION_STATE activation_results;</div><div class="line">activation_results = <a class="code" href="exosite_8c.html#ae64511824c2dc2478ec2e5a8a05f4c51">exosite_init</a>(vendorStr, modelStr);</div><div class="line"><span class="keywordflow">if</span> (activation_results == <a class="code" href="exosite_8h.html#a54e6a382b00d7faf8ee502ef8cca5ac7a1a5310820f4f81b13f6f37c00a545137">EXO_STATE_INIT_COMPLETE</a>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">char</span> readBuffer[BUF_LENGTH];</div><div class="line">    uint16_t retLen;</div><div class="line">    <a class="code" href="exosite_8c.html#a27181cc0e37498b05446ac6dc75480bc">exosite_readSingle</a>(<span class="stringliteral">&quot;myAlias&quot;</span>, readBuffer, BUF_LENGTH, retLen);</div><div class="line">    <span class="comment">// If the call is successful, the string within readBuffer will contain</span></div><div class="line">    <span class="comment">// the latest value of the &quot;myALias&quot; datasource.</span></div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="errorHandling"></a>
Error Handling</h1>
<p>The exosite library and exosite pal allow errorcodes from every hardware call to bubble up to the application code. However, it is up to the developer to return these calls from the PAL as well as check them in their application.</p>
<h1><a class="anchor" id="misc_info"></a>
Misc. Info</h1>
<h2><a class="anchor" id="codingStyle"></a>
Coding Style</h2>
<p>Various coding styles are enforced for the Exosite C library. These are enforced by using a tool called <a href="http://uncrustify.sourceforge.net/">uncrustify</a>. The configuration file for uncrustify (uncrustify.cfg) is included with this release.</p>
<h2><a class="anchor" id="testing"></a>
Testing</h2>
<p>Code is checked to compile with GCC 4.7.2 on Debian 7 as well MSVC using Visual Studio 2012.</p>
<p>Unit tests are ran using the <a href="https://code.google.com/p/googletest/">Google Test</a> framework.</p>
<h2><a class="anchor" id="diagraming"></a>
Diagramming</h2>
<p>Diagrams in this documentation are generated with <a href="http://plantuml.sourceforge.net/">PlantUML</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 14 2017 15:26:54 for Exosite -- C Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
